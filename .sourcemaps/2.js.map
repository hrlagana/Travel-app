{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/validators/email.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n  ],\n})\nexport class LoginPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { FormControl } from '@angular/forms';\r\n\r\nexport class EmailValidator {\r\n    static isValid(control: FormControl) {\r\n        const ret = /^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/\r\n            .test(\r\n            control.value\r\n            );\r\n        if (ret) {\r\n            return null;\r\n        }\r\n        return {\r\n            invalidEmail: true\r\n        };\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/validators/email.ts","import { Component } from '@angular/core';\nimport {\nAlert,\nAlertController,\nIonicPage,\nLoading,\nLoadingController,\nNavController} from 'ionic-angular';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { EmailValidator } from '../../validators/email';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { HomePage } from '../home/home';\nimport firebase from 'firebase';\nimport { GooglePlus } from '@ionic-native/google-plus';\n\n/**\n * Generated class for the LoginPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n\n  public loginForm: FormGroup;\n  public loading: Loading;\n  /*###*/\n  public userProfile:any = null;\n  /*###*/\n  constructor(\n    public navCtrl: NavController,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    public authProvider: AuthProvider,\n    formBuilder: FormBuilder,\n    private googlePlus: GooglePlus) {\n      this.loginForm = formBuilder.group({\n        email: ['',Validators.compose([Validators.required, EmailValidator.isValid])\n        ],\n        password: ['',Validators.compose([Validators.required, Validators.minLength(6)])\n        ]\n      });\n      /*###*/\n      firebase.auth().onAuthStateChanged( user => {\n        if (user) {\n          console.log(user);\n          this.userProfile = user;\n        } else {\n          console.log(\"There's no user here\");\n        }\n      });\n      /*###*/\n  }\n\n  /*ionViewDidLoad() {\n    console.log('ionViewDidLoad LoginPage');\n  }*/\n  goToSignup():void {\n    this.navCtrl.push('SignupPage');\n  }\n\n  goToResetPassword():void {\n    this.navCtrl.push('ResetPasswordPage');\n  }\n\n  loginUser(): void {\n    if (!this.loginForm.valid) {\n      console.log(`Form is not valid yet, current value: ${this.loginForm.value}`);\n    } else {\n      const email = this.loginForm.value.email;\n      const password = this.loginForm.value.password;\n\n      this.authProvider.loginUser(email, password).then(authData => {\n        this.loading.dismiss().then(() => {\n          this.navCtrl.setRoot(HomePage);\n        });\n      }, error => {\n        const alert: Alert = this.alertCtrl.create({\n          message: error.message,\n          buttons: [{text: 'Ok', role: 'cancel'}]\n        });\n\n        this.loading.dismiss();\n        alert.present();\n      });\n\n      this.loading = this.loadingCtrl.create({content: \"Logging In\"});\n      this.loading.present();\n    }\n  }\n  /*###*/\n  googleLogin(): void {\n    this.googlePlus.login({'webClientId': '608818035720-3nrc4058j3arghfbegkgeqcc8m9vqp2k.apps.googleusercontent.com','offline': true}).then(authData => {\n      const googleCredential = firebase.auth.GoogleAuthProvider.credential(authData.idToken);\n      firebase.auth().signInWithCredential(googleCredential)\n      .then( response => {\n        console.log(\"Firebase success: \" + JSON.stringify(response));\n        this.loading.dismiss().then(() => {\n          this.navCtrl.setRoot(HomePage);\n        });\n      })\n    }, error => {\n      const alert: Alert = this.alertCtrl.create({\n        message: error.message,\n        buttons: [{text: 'Ok', role: 'cancel'}]\n      });\n\n      this.loading.dismiss();\n      alert.present();\n    });\n\n    this.loading = this.loadingCtrl.create({content: \"Logging In\"});\n    this.loading.present();\n/*###*/\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}